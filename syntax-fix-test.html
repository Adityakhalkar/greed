<!DOCTYPE html>
<html>
<head>
    <title>GreedJS Syntax Fix Verification</title>
    <script src="./dist/greed.js"></script>
</head>
<body>
    <h1>GreedJS Syntax Fix Test</h1>
    <div id="status">Initializing...</div>
    <div id="results"></div>

    <script>
        async function testSyntaxFix() {
            const statusDiv = document.getElementById('status');
            const resultsDiv = document.getElementById('results');
            
            try {
                statusDiv.innerHTML = 'üîÑ Initializing GreedJS...';
                
                // Test initialization - this was previously failing with syntax error
                const greed = new Greed();
                await greed.initialize();
                
                statusDiv.innerHTML = '‚úÖ GreedJS initialized successfully!';
                
                // Test basic Python PyTorch execution
                const result = await greed.runPython(`
import torch
x = torch.tensor([[1, 2], [3, 4]], dtype=torch.float32)
y = torch.tensor([[2], [3]], dtype=torch.float32)
result = torch.matmul(x, y)
print(f"Matrix multiply result: {result}")
result.numpy().tolist()
                `);
                
                resultsDiv.innerHTML = `
                    <h3>üéâ Test Results:</h3>
                    <p><strong>Initialization:</strong> ‚úÖ SUCCESS</p>
                    <p><strong>Python Execution:</strong> ‚úÖ SUCCESS</p>
                    <p><strong>Matrix Multiply Result:</strong> ${JSON.stringify(result)}</p>
                    <p><strong>Fix Status:</strong> ‚úÖ Syntax error resolved!</p>
                `;
                
                console.log('‚úÖ All tests passed!');
                console.log('Matrix multiply result:', result);
                
            } catch (error) {
                statusDiv.innerHTML = '‚ùå Test failed';
                resultsDiv.innerHTML = `
                    <h3>‚ùå Error Details:</h3>
                    <p><strong>Error:</strong> ${error.message}</p>
                    <p><strong>Stack:</strong> <pre>${error.stack}</pre></p>
                `;
                console.error('Test failed:', error);
            }
        }

        // Run test when page loads
        testSyntaxFix();
    </script>
</body>
</html>